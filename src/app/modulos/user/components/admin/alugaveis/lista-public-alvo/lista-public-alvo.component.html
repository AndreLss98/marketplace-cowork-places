<basic-table
    [data]="data"
    [tableColumns]="tableColumns"
    [displayedColumns]="displayedColumns"
    [actions]="actions"
    (editar)="select($event)"
    (deletar)="deletar($event)"></basic-table>

<mat-card *ngIf="!publicoAlvo" class="mx-4 mb-1">
    <mat-card-header>
        <mat-card-title>Novo público alvo</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="createForm" (ngSubmit)="create()">
            <div class="row">
                <div class="col-sm">
                    <mat-form-field appearance="standard" class="w-100">
                        <mat-label>Nome</mat-label>
                        <input
                            formControlName="nome"
                            matInput autocomplete="off"
                            placeholder="Nome"
                            maxlength="100"
                            required />
                    </mat-form-field>
                </div>
            </div>

            <div class="d-flex justify-content-end">
                <button
                    mat-flat-button
                    color="primary"
                    type="submit"
                    [disabled]="createForm.invalid ||createForm.pristine">Criar</button>
            </div>
        </form>
    </mat-card-content>
</mat-card>

<mat-card *ngIf="publicoAlvo" class="mx-4 mb-1">
    <mat-card-header>
        <mat-card-title>Editar público alvo</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="editForm" (ngSubmit)="update()">
            <div class="row">
                <div class="col-sm">
                    <mat-form-field appearance="standard" class="w-100">
                        <mat-label>Nome</mat-label>
                        <input
                            formControlName="nome"
                            matInput autocomplete="off"
                            placeholder="Nome"
                            maxlength="100"
                            required />
                    </mat-form-field>
                </div>
            </div>

            <div class="d-flex justify-content-between">
                <button
                    mat-flat-button
                    type="button"
                    (click)="publicoAlvo = null">Cancelar</button>

                <button
                    mat-flat-button
                    color="primary"
                    type="submit"
                    [disabled]="editForm.invalid ||editForm.pristine">Atualizar</button>
            </div>
        </form>
    </mat-card-content>
</mat-card>
