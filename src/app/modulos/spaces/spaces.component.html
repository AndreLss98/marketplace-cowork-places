<div class="ml-sm-2 mr-2 ml-lg-0 overflow-hidden min-vh-100" style="max-width: 100%;">
    <h1 class="font-weight-bold">{{espaco.titulo}}</h1>
    <h4>{{espaco.tipo.nome}}</h4>
    
    <div class="row">
        <div class="col-md col-lg-8">
            <maps
                *ngIf="view === 'maps'"
                [lngLatPlace]="{ latitude: espaco.local.latitude, longitude: espaco.local.longitude }"
                [static]="true"></maps>
    
            <div *ngIf="view !== 'maps'" id="spacesCarousel" class="carousel slide mw-100" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#spacesCarousel" *ngFor="let image of espaco.imagens; let i = index" data-slide-to="index" [class.active]="i == 0"></li>
                </ol>
    
                <div class="carousel-inner">
                    <div class="carousel-item" *ngFor="let image of espaco.imagens; let i=index" [class.active]="i == 0">
                        <img [src]="backUrl + '/imgs/' + image.url" class="d-block w-100" />
                    </div>
                </div>
    
                <a class="carousel-control-prev" href="#spacesCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#spacesCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    
        <div class="col-md col-lg-4">
            <reserva-card
                [taxaMaxima]="max_taxa"
                [valorDiaria]="espaco.valor"
                [valorMensal]="espaco.valor_mes"
                [taxa]="espaco.taxa"></reserva-card>
            <div class="mt-2">
                <div class="row">
                    <div class="col d-flex justify-content-center">
                        <button
                            class="px-5 py-1"
                            mat-raised-button
                            type="button"
                            color="primary"
                            (click)="checkout()">RESERVAR</button>
                    </div>
                </div>
    
                <div class="row mt-2">
                    <div class="col d-flex justify-content-around">
                        <div class="d-flex flex-column align-items-center">
                            <button mat-fab color="primary" class="mb-1">
                                <mat-icon>favorite</mat-icon>
                            </button>
                            Salvar
                        </div>
    
                        <div class="d-flex flex-column align-items-center">
                            <button mat-fab color="primary" class="mb-1" (click)="view = view === 'maps'? 'photos' : 'maps' ">
                                <mat-icon>{{ view === 'maps'? 'insert_photo' : 'location_on' }}</mat-icon>
                            </button>
                            {{ view === 'maps'? 'Fotos' : 'Localização' }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <mat-card class="w-100 my-2 mw-100">
        <h1>{{ espaco.local.rua }} {{ espaco.local.cidade }} - {{ espaco.local.estado }}</h1>
    </mat-card>
    
    <div class="row mw-100">
        <div class="col">
            <div class="d-flex flex-column">
                <h2 class="font-weight-bold">Descrição do proprietário</h2>
                <h3 style="word-wrap: break-word;">{{espaco.descricao}}</h3>
            </div>
        </div>
    </div>
    
    <div *ngIf="espaco.infos.length" class="row mt-2">
        <div class="col">
            <div class="d-flex flex-column">
                <h2 class="font-weight-bold">Informações adicionais</h2>
                <h3 *ngFor="let item of espaco.infos">{{item.descricao}}</h3>
            </div>
        </div>
    </div>
    
    <div class="row mt-2">
        <div class="col">
            <a
                [href]="'https://api.whatsapp.com/send?phone=55556296611324&text=Ol%C3%A1%20gostaria%20de%20tirar%20uma%20duvida%20sobre%20o%20an%C3%BAncio%20placeet.com%2Fspaces%2F'+espaco.id"
                target="_blank"
                style="font-size: 1rem;">Ainda tem alguma dúvida? Deixe sua pergunta ao locador</a>
        </div>
    </div>
    
    <div id="avaliacoes" class="w-100 my-2">
        <div *ngIf="espacos.length" class="d-flex flex-column back-verde-escuro more-announcement">
            <span style="color: black; font-size: 20px; font-weight: bold; margin: auto auto 20px 15px">Mais espaços desse anunciante</span>
            <div class="d-flex w-100 flex-row back-verde-escuro flex-wrap
                justify-content-center">
                <card-item-alugavel
                    *ngFor="let item of espacos"
                    [data]="item"></card-item-alugavel>
            </div>
        </div>
    </div>
</div>
