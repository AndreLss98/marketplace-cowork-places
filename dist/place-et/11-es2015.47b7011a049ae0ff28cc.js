(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{WI8p:function(a,t,e){"use strict";e.r(t);var o=e("PCNd"),c=e("ofXK"),n=e("tyNb"),i=e("FKr1"),r=e("1yaQ"),s=e("wd/R"),b=e("AytR"),d=e("+nbM"),l=e("fXoL"),p=e("dNgK"),u=e("B5ND"),g=e("sVv3"),f=e("kmnG"),m=e("qFsG"),h=e("iadO"),v=e("tkCS");function x(a,t){if(1&a&&l.Rb(0,"li",62),2&a){const a=t.index;l.rc("ngClass",0==a?"active":""),l.Db("data-slide-to",a)}}const C=function(a){return{"background-image":a}};function V(a,t){if(1&a&&(l.Wb(0,"div",63),l.Rb(1,"div",64),l.Rb(2,"img",65),l.Vb()),2&a){const a=t.$implicit,e=t.index,o=l.mc();l.rc("ngClass",0==e?"carousel-item active":"carousel-item"),l.Cb(1),l.rc("ngStyle",l.vc(3,C,"url("+o.backUrl+"/imgs/"+a.url+")")),l.Cb(1),l.rc("src",o.backUrl+"/imgs/"+a.url||"assets/imgs/logo/logo_preta-min.png",l.Dc)}}function W(a,t){if(1&a&&(l.Wb(0,"span",69),l.Kc(1),l.Vb()),2&a){const a=t.$implicit;l.Cb(1),l.Lc(a)}}function k(a,t){if(1&a&&(l.Wb(0,"div",66),l.Wb(1,"span",67),l.Kc(2),l.Vb(),l.Ic(3,W,2,1,"span",68),l.Vb()),2&a){const a=l.mc();l.Cb(2),l.Lc(a.espaco.nota.toFixed(1)),l.Cb(1),l.rc("ngForOf",a.countStars(a.espaco.nota))}}function O(a,t){1&a&&(l.Wb(0,"div",47),l.Wb(1,"span",48),l.Kc(2,"wifi"),l.Vb(),l.Wb(3,"p",49),l.Kc(4,"Internet"),l.Vb(),l.Vb())}function w(a,t){if(1&a&&(l.Wb(0,"span"),l.Kc(1),l.Vb()),2&a){const a=t.$implicit;l.Cb(1),l.Mc(". ",a.descricao,"")}}function K(a,t){if(1&a&&(l.Wb(0,"span"),l.Kc(1),l.Vb()),2&a){const a=t.$implicit;l.Cb(1),l.Mc(". ",a.descricao,"")}}function A(a,t){1&a&&l.Rb(0,"app-highlight-items",74),2&a&&l.rc("data",t.$implicit)}function I(a,t){if(1&a&&(l.Wb(0,"div",70),l.Wb(1,"span",71),l.Kc(2,"Mais espa\xe7os desse anunciante"),l.Vb(),l.Wb(3,"div",72),l.Ic(4,A,1,1,"app-highlight-items",73),l.Vb(),l.Vb()),2&a){const a=l.mc();l.Cb(4),l.rc("ngForOf",a.espacos)}}let R=(()=>{class a{constructor(a,t,e,o,c){this.router=a,this.snackBar=t,this.route=e,this.checkoutService=o,this.alugavelService=c,this.CARACTERISTICAS=d.c,this.hoje=s().format(),this.backUrl=b.a.apiUrl,this.data={dadosCompra:{}},this.espacos=[],this.condicoes=[]}ngOnInit(){this.alugavelService.getTaxa().subscribe(a=>{this.max_taxa=Number(a.taxa)}),this.espaco=this.route.snapshot.data.data,this.condicoes=this.route.snapshot.data.condicoes,this.alugavelService.getAllByUser(this.espaco.anunciante_id).subscribe(a=>{this.espacos=a.filter(a=>a.id!==this.espaco.id)})}countStars(a){let t=[],e=0;for(let o=0;o<Math.floor(a);o++)e++,t.push("start");for(a-e&&t.push("star_half");t.length<5;)t.push("star_outline");return t}checkout(){null!=this.entrada&&null!=this.saida?(this.checkoutService.reserva={dias_reservados:{data_entrada:this.formatDate(new Date(this.entrada)),data_saida:this.formatDate(new Date(this.saida))},valor:this.calculaTotalPeriodo(this.espaco.taxa,this.espaco.valor).toFixed(2),alugavel_id:this.espaco.id,titulo:this.espaco.titulo},this.totalDias()<31&&this.router.navigate(["/checkout"])):this.snackBar.open("Selecione as datas de entrada e sa\xedda","OK",{duration:3e3})}calculaCustoDia(a,t){return Number(a==this.max_taxa?t:a==this.max_taxa/2?t*(a/100+1):t*(this.max_taxa/100+1))}calculaTaxa(a,t){return Number(t*(a/100))}calculaTotal(a,t){return Number(this.calculaCustoDia(a,t)+this.calculaTaxa(a,t))}calculaTotalPeriodo(a,t){let e=this.entrada,o=this.saida;return Number(null==o||null==e?this.calculaTotal(a,t):(o.diff(e,"days")+1)*this.calculaTotal(a,t))}totalDias(){let a=this.entrada,t=this.saida;return Number(null==t||null==a?1:t.diff(a,"days")+1)}selecionaData(a,t){"entrada"==a?this.entrada=s(t.value):"saida"==a&&(this.saida=s(t.value))}formatDate(a){return`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`}}return a.\u0275fac=function(t){return new(t||a)(l.Qb(n.b),l.Qb(p.a),l.Qb(n.a),l.Qb(u.a),l.Qb(g.a))},a.\u0275cmp=l.Kb({type:a,selectors:[["app-spaces"]],features:[l.Bb([{provide:i.f,useValue:"pt-br"},{provide:i.c,useClass:r.d,deps:[i.f,r.a]},{provide:i.e,useValue:r.b}])],decls:147,vars:30,consts:[["id","content",1,"container-fluid"],[1,"row"],[1,"col","d-flex","flex-row","align-items-center","justify-content-start"],[1,"d-flex","justify-content-center","flex-column"],[2,"font-size","25px","font-weight","bold"],[2,"font-weight","bold","font-size","15px"],[2,"height","40px"],[1,"col-lg-9"],["id","spacesCarousel",1,"carousel","slide","myCarousel",2,"max-height","572px"],[1,"carousel-indicators"],["data-target","#spacesCarousel",3,"ngClass",4,"ngFor","ngForOf"],[1,"carousel-inner"],[3,"ngClass",4,"ngFor","ngForOf"],["href","#spacesCarousel","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#spacesCarousel","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-lg-3"],[1,"myCard","col"],[1,"d-flex","flex-column"],[2,"width","100%"],[2,"color","black","font-weight","500"],["disabled","","matInput","",2,"color","black","font-weight","500",3,"matDatepicker","min","max","dateChange"],["matSuffix","",3,"for"],["disabled","false","format",""],["pickerEntrada",""],["disabled","","matInput","",2,"color","black","font-weight","500",3,"matDatepicker","min","dateChange"],["pickerSaida",""],[1,"d-flex",2,"color","black","justify-content","space-between","font-weight","500"],[2,"text-align","right","padding-right","6px"],[2,"border-bottom","1px solid black","height","20px","margin-bottom","10px"],[1,"d-flex",2,"color","black","justify-content","space-between","font-weight","bold"],[1,"d-flex","align-items-center","justify-content-center",2,"padding","20px"],["type","button",1,"btn","btn-reservar",3,"click"],[1,"d-flex","align-items-center","justify-content-center"],[1,"d-flex","align-items-center","justify-content-around","flex-wrap",2,"padding-top","20px","padding-right","auto","padding-left","auto"],[1,"d-flex","flex-column","align-items-center"],[1,"material-icons",2,"background","#00fd00","border-radius","25px","padding","10px"],[2,"font-size","12px","font-weight","bold"],[1,"d-flex","align-items-center","justify-content-center",2,"padding","40px 20px 10px 20px"],["href","",2,"color","black","font-weight","500"],[1,"row","endereco",2,"margin-bottom","15px"],["class","col-xl-3 d-flex align-items-center",4,"ngIf"],[1,"col-xl-5","d-flex","align-items-center"],[1,"endereco"],[1,"col-xl-4","d-flex","flex-row","align-items-center"],[1,"col-xl-3","d-flex","flex-column","align-items-center","justify-content-center","caracteristica"],[1,"material-icons"],[1,"caracteristica"],["src","assets/svg/desk.svg","alt","",1,"caracteristica"],["src","assets/svg/car.svg","alt","",1,"caracteristica"],["class","col-xl-3 d-flex flex-column align-items-center justify-content-center caracteristica",4,"ngIf"],[1,"row",2,"padding-right","10%","margin-top","40px"],[1,"col"],[2,"font-weight","600","padding-bottom","10px"],[2,"font-weight","600","margin-top","30px","padding-bottom","10px"],[2,"border-bottom","2px solid #b1b1b1","padding-top","30px"],[4,"ngFor","ngForOf"],["href","",2,"font-weight","500","margin-top","30px","padding-bottom","10px","font-size","20px"],["id","avaliacoes",1,"container-fluid"],["class","row back-verde-escuro more-announcement",4,"ngIf"],["data-target","#spacesCarousel",3,"ngClass"],[3,"ngClass"],[1,"bg-image",3,"ngStyle"],[1,"d-block","carouselImage",3,"src"],[1,"col-xl-3","d-flex","align-items-center"],[1,"nota"],["class","material-icons nota-star",4,"ngFor","ngForOf"],[1,"material-icons","nota-star"],[1,"row","back-verde-escuro","more-announcement"],[2,"width","100%","color","black","font-size","20px","font-weight","bold","margin-bottom","20px"],[1,"d-flex","w-100","flex-row","back-verde-escuro","flex-wrap","justify-content-between"],["width","240px",3,"data",4,"ngFor","ngForOf"],["width","240px",3,"data"]],template:function(a,t){if(1&a&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"span",4),l.Kc(5),l.Vb(),l.Wb(6,"span",5),l.Kc(7),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Rb(8,"div",6),l.Wb(9,"div",1),l.Wb(10,"div",7),l.Wb(11,"div",8),l.Wb(12,"ol",9),l.Ic(13,x,1,2,"li",10),l.Vb(),l.Wb(14,"div",11),l.Ic(15,V,3,5,"div",12),l.Vb(),l.Wb(16,"a",13),l.Rb(17,"span",14),l.Wb(18,"span",15),l.Kc(19,"Proximo"),l.Vb(),l.Vb(),l.Wb(20,"a",16),l.Rb(21,"span",17),l.Wb(22,"span",15),l.Kc(23,"Anterior"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(24,"div",18),l.Wb(25,"div",19),l.Wb(26,"div",20),l.Wb(27,"div"),l.Wb(28,"mat-form-field",21),l.Wb(29,"mat-label",22),l.Kc(30,"Entrada"),l.Vb(),l.Wb(31,"input",23),l.ic("dateChange",(function(a){return t.selecionaData("entrada",a)})),l.Vb(),l.Rb(32,"mat-datepicker-toggle",24),l.Rb(33,"mat-datepicker",25,26),l.Vb(),l.Vb(),l.Wb(35,"div"),l.Wb(36,"mat-form-field",21),l.Wb(37,"mat-label",22),l.Kc(38,"Sa\xedda"),l.Vb(),l.Wb(39,"input",27),l.ic("dateChange",(function(a){return t.selecionaData("saida",a)})),l.Vb(),l.Rb(40,"mat-datepicker-toggle",24),l.Rb(41,"mat-datepicker",25,28),l.Vb(),l.Vb(),l.Vb(),l.Wb(43,"div",29),l.Wb(44,"span"),l.Kc(45,"N\xba de pessoas"),l.Vb(),l.Wb(46,"span",30),l.Kc(47),l.Vb(),l.Vb(),l.Wb(48,"div",29),l.Wb(49,"span"),l.Kc(50,"Quantidade de dias"),l.Vb(),l.Wb(51,"span",30),l.Kc(52),l.Vb(),l.Vb(),l.Rb(53,"div",31),l.Wb(54,"div",29),l.Wb(55,"span"),l.Kc(56,"CUSTO POR DIA"),l.Vb(),l.Wb(57,"span",30),l.Kc(58),l.Vb(),l.Vb(),l.Wb(59,"div",29),l.Wb(60,"span"),l.Kc(61,"TAXAS"),l.Vb(),l.Wb(62,"span",30),l.Kc(63),l.Vb(),l.Vb(),l.Wb(64,"div",29),l.Wb(65,"span"),l.Kc(66,"CUSTO POR DIA TOTAL"),l.Vb(),l.Wb(67,"span",30),l.Kc(68),l.Vb(),l.Vb(),l.Wb(69,"div",32),l.Wb(70,"span"),l.Kc(71,"TOTAL"),l.Vb(),l.Wb(72,"span",30),l.Kc(73),l.Vb(),l.Vb(),l.Wb(74,"div",33),l.Wb(75,"button",34),l.ic("click",(function(){return t.checkout()})),l.Kc(76,"RESERVAR"),l.Vb(),l.Vb(),l.Rb(77,"div",35),l.Wb(78,"div",36),l.Wb(79,"div",37),l.Wb(80,"span",38),l.Kc(81,"share"),l.Vb(),l.Wb(82,"span",39),l.Kc(83,"Compartilhar"),l.Vb(),l.Vb(),l.Wb(84,"div",37),l.Wb(85,"span",38),l.Kc(86,"favorite"),l.Vb(),l.Wb(87,"span",39),l.Kc(88,"Salvar"),l.Vb(),l.Vb(),l.Wb(89,"div",37),l.Wb(90,"span",38),l.Kc(91,"location_on"),l.Vb(),l.Wb(92,"span",39),l.Kc(93,"Localiza\xe7\xe3o"),l.Vb(),l.Vb(),l.Vb(),l.Wb(94,"div",40),l.Wb(95,"a",41),l.Kc(96,"*POL\xcdTICA DE CANCELAMENTO."),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(97,"div",42),l.Ic(98,k,4,2,"div",43),l.Wb(99,"div",44),l.Wb(100,"span",45),l.Kc(101),l.Vb(),l.Vb(),l.Wb(102,"div",46),l.Wb(103,"div",47),l.Wb(104,"span",48),l.Kc(105,"aspect_ratio"),l.Vb(),l.Wb(106,"p",49),l.Kc(107),l.Vb(),l.Vb(),l.Wb(108,"div",47),l.Rb(109,"img",50),l.Wb(110,"p",49),l.Kc(111),l.Vb(),l.Vb(),l.Wb(112,"div",47),l.Rb(113,"img",51),l.Wb(114,"p",49),l.Kc(115),l.Vb(),l.Vb(),l.Ic(116,O,5,0,"div",52),l.Vb(),l.Vb(),l.Wb(117,"div",53),l.Wb(118,"div",54),l.Wb(119,"div",20),l.Wb(120,"span",55),l.Kc(121,"Descri\xe7\xe3o do propriet\xe1rio"),l.Vb(),l.Wb(122,"span"),l.Kc(123),l.Vb(),l.Vb(),l.Wb(124,"div",20),l.Wb(125,"span",56),l.Kc(126,"Funcionamento"),l.Vb(),l.Wb(127,"span"),l.Kc(128),l.Vb(),l.Wb(129,"span"),l.Kc(130,". O prazo come\xe7a ap\xf3s a confirma\xe7\xe3o do pagamento"),l.Vb(),l.Vb(),l.Rb(131,"div",57),l.Wb(132,"div",20),l.Wb(133,"span",56),l.Kc(134,"Condi\xe7\xf5es"),l.Vb(),l.Ic(135,w,2,1,"span",58),l.Vb(),l.Rb(136,"div",57),l.Wb(137,"div",20),l.Wb(138,"span",56),l.Kc(139,"Informa\xe7\xf5es adicionais"),l.Vb(),l.Ic(140,K,2,1,"span",58),l.Vb(),l.Rb(141,"div",57),l.Wb(142,"div",20),l.Wb(143,"a",59),l.Kc(144,"Ainda tem alguma d\xfavida? Deixe sua pergunta ao locador"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(145,"div",60),l.Ic(146,I,5,1,"div",61),l.Vb()),2&a){const a=l.zc(34),e=l.zc(42);l.Cb(5),l.Lc(t.espaco.titulo),l.Cb(2),l.Lc(t.espaco.tipo.nome),l.Cb(6),l.rc("ngForOf",t.espaco.imagens),l.Cb(2),l.rc("ngForOf",t.espaco.imagens),l.Cb(16),l.rc("matDatepicker",a)("min",t.hoje)("max",t.saida),l.Cb(1),l.rc("for",a),l.Cb(7),l.rc("matDatepicker",e)("min",t.entrada),l.Cb(1),l.rc("for",e),l.Cb(7),l.Lc(t.espaco.caracteristicas[t.CARACTERISTICAS.QUANTIDADE_PESSOAS].valor),l.Cb(5),l.Lc(t.totalDias()),l.Cb(6),l.Mc("R$ ",t.calculaCustoDia(t.espaco.taxa,t.espaco.valor).toFixed(2),""),l.Cb(5),l.Mc("R$ ",t.calculaTaxa(t.espaco.taxa,t.espaco.valor).toFixed(2),""),l.Cb(5),l.Mc("R$ ",t.calculaTotal(t.espaco.taxa,t.espaco.valor).toFixed(2),""),l.Cb(5),l.Mc("R$ ",t.calculaTotalPeriodo(t.espaco.taxa,t.espaco.valor).toFixed(2),""),l.Cb(25),l.rc("ngIf",t.espaco.nota),l.Cb(3),l.Oc("",t.espaco.local.rua," - ",t.espaco.local.cidade," - ",t.espaco.local.estado,""),l.Cb(6),l.Mc("",t.espaco.caracteristicas[t.CARACTERISTICAS.AREA].valor," m2"),l.Cb(4),l.Mc("",t.espaco.caracteristicas[t.CARACTERISTICAS.QUANTIDADE_MESAS].valor," mesas"),l.Cb(4),l.Mc("",t.espaco.caracteristicas[t.CARACTERISTICAS.QUANTIDADE_VAGAS].valor," vagas"),l.Cb(1),l.rc("ngIf","true"==t.espaco.caracteristicas[t.CARACTERISTICAS.INTERNET].valor),l.Cb(7),l.Lc(t.espaco.descricao),l.Cb(5),l.Mc(". ",t.espaco.caracteristicas[t.CARACTERISTICAS.HORARIO_FUNCIONAMENTO].valor,""),l.Cb(7),l.rc("ngForOf",t.condicoes),l.Cb(5),l.rc("ngForOf",t.espaco.infos),l.Cb(6),l.rc("ngIf",t.espacos&&t.espacos.length>0)}},directives:[c.k,f.c,f.g,m.b,h.b,h.d,f.h,h.a,c.l,c.j,c.m,v.a],styles:[".color-preto[_ngcontent-%COMP%]{color:#000}.color-verde[_ngcontent-%COMP%]{color:#00fd00}.color-verde-escuro[_ngcontent-%COMP%]{color:#00ffab}.back-preto[_ngcontent-%COMP%]{background-color:#000}.back-verde[_ngcontent-%COMP%]{background-color:#00fd00}.back-verde-escuro[_ngcontent-%COMP%]{background-color:#00ffab}#content[_ngcontent-%COMP%]{padding-bottom:30px;padding-top:30px;background-color:#f4f4f4}#content[_ngcontent-%COMP%]   .myCarousel[_ngcontent-%COMP%]{border-radius:15px;overflow:hidden}#content[_ngcontent-%COMP%]   .endereco[_ngcontent-%COMP%]{background-color:#fff;margin-top:15px;margin-left:0;margin-right:0;padding:15px;border-radius:15px}.carouselImage[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain;height:572px;position:inherit;margin-left:auto;margin-right:auto}.carousel-item[_ngcontent-%COMP%]{background-color:#fff}.bg-image[_ngcontent-%COMP%]{overflow:hidden;filter:blur(8px);-webkit-filter:blur(8px);height:120%;width:100%;background-position:50%;background-repeat:no-repeat;background-size:cover;position:absolute}.myCard[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;padding-top:15px}.myCard[_ngcontent-%COMP%]   .btn-reservar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00fd00,#00ffab);width:200px!important;height:50px;border-radius:15px;font-weight:700}#avaliacoes[_ngcontent-%COMP%]{background-color:#fff;border-top:1px solid #b1b1b1}span.nota[_ngcontent-%COMP%]{color:#fff;font-size:20px;border-radius:7px;background-color:#000;padding:5px 10px}span.nota-star[_ngcontent-%COMP%]{width:24px;height:24px;color:#000;margin-left:5px}div.caracteristica[_ngcontent-%COMP%]{padding:0}p.caracteristica[_ngcontent-%COMP%]{color:grey;font-size:11px;margin-bottom:0}img.caracteristica[_ngcontent-%COMP%]{width:24px}span.endereco[_ngcontent-%COMP%]{color:#000;font-size:20px;font-weight:500}div.more-announcement[_ngcontent-%COMP%]{padding:30px 10%}"]}),a})();var M=e("L8er");let _=(()=>{class a{constructor(a){this.alugaveis=a}resolve(a,t){return this.alugaveis.getById(a.paramMap.get("id"))}}return a.\u0275fac=function(t){return new(t||a)(l.ec(M.a))},a.\u0275prov=l.Mb({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var S=e("Vha1");const T=[{path:"",component:R,resolve:{data:_,condicoes:(()=>{class a{constructor(a){this.condicoesService=a}resolve(a){return this.condicoesService.getAll()}}return a.\u0275fac=function(t){return new(t||a)(l.ec(S.a))},a.\u0275prov=l.Mb({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}];let y=(()=>{class a{}return a.\u0275mod=l.Ob({type:a}),a.\u0275inj=l.Nb({factory:function(t){return new(t||a)},imports:[[n.d.forChild(T)],n.d]}),a})();e.d(t,"SpacesModule",(function(){return P}));let P=(()=>{class a{}return a.\u0275mod=l.Ob({type:a}),a.\u0275inj=l.Nb({factory:function(t){return new(t||a)},imports:[[o.a,c.c,y]]}),a})()}}]);